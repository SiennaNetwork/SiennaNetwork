{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Handle",
  "anyOf": [
    {
      "description": "Load a new schedule (only before launching the contract)",
      "type": "object",
      "required": [
        "configure"
      ],
      "properties": {
        "configure": {
          "type": "object",
          "required": [
            "portions"
          ],
          "properties": {
            "portions": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Portion"
              }
            }
          }
        }
      }
    },
    {
      "description": "The admin can make someone else the admin, but there can be only one admin at a given time (or none)",
      "type": "object",
      "required": [
        "transfer_ownership"
      ],
      "properties": {
        "transfer_ownership": {
          "type": "object",
          "required": [
            "new_admin"
          ],
          "properties": {
            "new_admin": {
              "$ref": "#/definitions/HumanAddr"
            }
          }
        }
      }
    },
    {
      "description": "The admin can disown the contract so that nobody can be admin anymore:",
      "type": "object",
      "required": [
        "disown"
      ],
      "properties": {
        "disown": {
          "type": "object"
        }
      }
    },
    {
      "description": "An instance can be launched only once. Launching the instance mints the total tokens as specified by the schedule, and prevents any more tokens from ever being minted by the underlying contract.",
      "type": "object",
      "required": [
        "launch"
      ],
      "properties": {
        "launch": {
          "type": "object"
        }
      }
    },
    {
      "description": "After launch, recipients can call the Claim method to receive the gains that they have accumulated so far.",
      "type": "object",
      "required": [
        "claim"
      ],
      "properties": {
        "claim": {
          "type": "object"
        }
      }
    }
  ],
  "definitions": {
    "HumanAddr": {
      "type": "string"
    },
    "Portion": {
      "description": "Claimable portion",
      "type": "object",
      "required": [
        "address",
        "amount",
        "reason",
        "vested"
      ],
      "properties": {
        "address": {
          "$ref": "#/definitions/HumanAddr"
        },
        "amount": {
          "$ref": "#/definitions/Uint128"
        },
        "reason": {
          "type": "string"
        },
        "vested": {
          "type": "integer",
          "format": "uint64",
          "minimum": 0.0
        }
      }
    },
    "Uint128": {
      "type": "string"
    }
  }
}
